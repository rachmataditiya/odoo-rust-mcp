{
  "tools": [
    {
      "name": "odoo_search",
      "description": "Search for Odoo records with domain filters. Returns record IDs matching the criteria.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "model": { "type": "string" },
          "domain": { "type": "array", "items": {} },
          "fields": { "type": "array", "items": { "type": "string" } },
          "limit": { "type": "integer" },
          "offset": { "type": "integer" },
          "order": { "type": "string" },
          "context": { "type": "object" }
        },
        "required": ["instance", "model"],
        "additionalProperties": false
      },
      "op": {
        "type": "search",
        "map": {
          "instance": "/instance",
          "model": "/model",
          "domain": "/domain",
          "limit": "/limit",
          "offset": "/offset",
          "order": "/order",
          "context": "/context"
        }
      }
    },
    {
      "name": "odoo_search_read",
      "description": "Search and read Odoo records in one operation. Returns full record data.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "model": { "type": "string" },
          "domain": { "type": "array", "items": {} },
          "fields": { "type": "array", "items": { "type": "string" } },
          "limit": { "type": "integer" },
          "offset": { "type": "integer" },
          "order": { "type": "string" },
          "context": { "type": "object" }
        },
        "required": ["instance", "model"],
        "additionalProperties": false
      },
      "op": {
        "type": "search_read",
        "map": {
          "instance": "/instance",
          "model": "/model",
          "domain": "/domain",
          "fields": "/fields",
          "limit": "/limit",
          "offset": "/offset",
          "order": "/order",
          "context": "/context"
        }
      }
    },
    {
      "name": "odoo_read",
      "description": "Read specific Odoo records by IDs. Returns detailed field values.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "model": { "type": "string" },
          "ids": { "type": "array", "items": { "type": "integer" } },
          "fields": { "type": "array", "items": { "type": "string" } },
          "context": { "type": "object" }
        },
        "required": ["instance", "model", "ids"],
        "additionalProperties": false
      },
      "op": {
        "type": "read",
        "map": {
          "instance": "/instance",
          "model": "/model",
          "ids": "/ids",
          "fields": "/fields",
          "context": "/context"
        }
      }
    },
    {
      "name": "odoo_create",
      "description": "Create a new Odoo record. Returns the ID of the created record.",
      "guards": { "requiresEnvTrue": "ODOO_ENABLE_WRITE_TOOLS" },
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "model": { "type": "string" },
          "values": { "type": "object" },
          "context": { "type": "object" }
        },
        "required": ["instance", "model", "values"],
        "additionalProperties": false
      },
      "op": {
        "type": "create",
        "map": {
          "instance": "/instance",
          "model": "/model",
          "values": "/values",
          "context": "/context"
        }
      }
    },
    {
      "name": "odoo_update",
      "description": "Update existing Odoo records. Returns true on success.",
      "guards": { "requiresEnvTrue": "ODOO_ENABLE_WRITE_TOOLS" },
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "model": { "type": "string" },
          "ids": { "type": "array", "items": { "type": "integer" } },
          "values": { "type": "object" },
          "context": { "type": "object" }
        },
        "required": ["instance", "model", "ids", "values"],
        "additionalProperties": false
      },
      "op": {
        "type": "write",
        "map": {
          "instance": "/instance",
          "model": "/model",
          "ids": "/ids",
          "values": "/values",
          "context": "/context"
        }
      }
    },
    {
      "name": "odoo_delete",
      "description": "Delete Odoo records. Returns true on success. Use with caution!",
      "guards": { "requiresEnvTrue": "ODOO_ENABLE_WRITE_TOOLS" },
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "model": { "type": "string" },
          "ids": { "type": "array", "items": { "type": "integer" } },
          "context": { "type": "object" }
        },
        "required": ["instance", "model", "ids"],
        "additionalProperties": false
      },
      "op": {
        "type": "unlink",
        "map": {
          "instance": "/instance",
          "model": "/model",
          "ids": "/ids",
          "context": "/context"
        }
      }
    },
    {
      "name": "odoo_execute",
      "description": "Execute arbitrary method on Odoo model. For advanced operations and custom methods.",
      "guards": { "requiresEnvTrue": "ODOO_ENABLE_WRITE_TOOLS" },
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "model": { "type": "string" },
          "method": { "type": "string" },
          "args": { "type": "array", "items": {} },
          "kwargs": { "type": "object" },
          "context": { "type": "object" }
        },
        "required": ["instance", "model", "method"],
        "additionalProperties": false
      },
      "op": {
        "type": "execute",
        "map": {
          "instance": "/instance",
          "model": "/model",
          "method": "/method",
          "args": "/args",
          "kwargs": "/kwargs",
          "context": "/context"
        }
      }
    },
    {
      "name": "odoo_count",
      "description": "Count records matching domain filters. Returns the total count.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "model": { "type": "string" },
          "domain": { "type": "array", "items": {} },
          "context": { "type": "object" }
        },
        "required": ["instance", "model"],
        "additionalProperties": false
      },
      "op": {
        "type": "search_count",
        "map": {
          "instance": "/instance",
          "model": "/model",
          "domain": "/domain",
          "context": "/context"
        }
      }
    },
    {
      "name": "odoo_workflow_action",
      "description": "Execute workflow action/button on records (e.g., confirm sale order, post invoice).",
      "guards": { "requiresEnvTrue": "ODOO_ENABLE_WRITE_TOOLS" },
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "model": { "type": "string" },
          "ids": { "type": "array", "items": { "type": "integer" } },
          "action": { "type": "string" },
          "context": { "type": "object" }
        },
        "required": ["instance", "model", "ids", "action"],
        "additionalProperties": false
      },
      "op": {
        "type": "workflow_action",
        "map": {
          "instance": "/instance",
          "model": "/model",
          "ids": "/ids",
          "action": "/action",
          "context": "/context"
        }
      }
    },
    {
      "name": "odoo_generate_report",
      "description": "Generate PDF report for records. Returns base64-encoded PDF.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "reportName": { "type": "string" },
          "ids": { "type": "array", "items": { "type": "integer" } },
          "data": { "type": "object" },
          "context": { "type": "object" }
        },
        "required": ["instance", "reportName", "ids"],
        "additionalProperties": false
      },
      "op": {
        "type": "generate_report",
        "map": {
          "instance": "/instance",
          "reportName": "/reportName",
          "ids": "/ids"
        }
      }
    },
    {
      "name": "odoo_get_model_metadata",
      "description": "Get model metadata including field definitions, types, and relationships.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "model": { "type": "string" },
          "context": { "type": "object" }
        },
        "required": ["instance", "model"],
        "additionalProperties": false
      },
      "op": {
        "type": "get_model_metadata",
        "map": {
          "instance": "/instance",
          "model": "/model",
          "context": "/context"
        }
      }
    },
    {
      "name": "odoo_database_cleanup",
      "description": "Comprehensive database cleanup for production readiness. IMPORTANT: Use dryRun=true to preview changes first!",
      "guards": { "requiresEnvTrue": "ODOO_ENABLE_CLEANUP_TOOLS" },
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "removeTestData": { "type": "boolean" },
          "removeInactivRecords": { "type": "boolean" },
          "cleanupDrafts": { "type": "boolean" },
          "archiveOldRecords": { "type": "boolean" },
          "optimizeDatabase": { "type": "boolean" },
          "daysThreshold": { "type": "integer" },
          "dryRun": { "type": "boolean" }
        },
        "required": ["instance"],
        "additionalProperties": false
      },
      "op": {
        "type": "database_cleanup",
        "map": {
          "instance": "/instance",
          "removeTestData": "/removeTestData",
          "removeInactivRecords": "/removeInactivRecords",
          "cleanupDrafts": "/cleanupDrafts",
          "archiveOldRecords": "/archiveOldRecords",
          "optimizeDatabase": "/optimizeDatabase",
          "daysThreshold": "/daysThreshold",
          "dryRun": "/dryRun"
        }
      }
    },
    {
      "name": "odoo_deep_cleanup",
      "description": "DESTRUCTIVE: Remove ALL non-essential data. ALWAYS use dryRun=true first!",
      "guards": { "requiresEnvTrue": "ODOO_ENABLE_CLEANUP_TOOLS" },
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "dryRun": { "type": "boolean" },
          "keepCompanyDefaults": { "type": "boolean" },
          "keepUserAccounts": { "type": "boolean" },
          "keepMenus": { "type": "boolean" },
          "keepGroups": { "type": "boolean" }
        },
        "required": ["instance"],
        "additionalProperties": false
      },
      "op": {
        "type": "deep_cleanup",
        "map": {
          "instance": "/instance",
          "dryRun": "/dryRun",
          "keepCompanyDefaults": "/keepCompanyDefaults",
          "keepUserAccounts": "/keepUserAccounts",
          "keepMenus": "/keepMenus",
          "keepGroups": "/keepGroups"
        }
      }
    },
    {
      "name": "odoo_read_group",
      "description": "Aggregate records with GROUP BY. Returns grouped data with sum, count, avg, etc.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "model": { "type": "string" },
          "domain": { "type": "array", "items": {} },
          "fields": { "type": "array", "items": { "type": "string" } },
          "groupby": { "type": "array", "items": { "type": "string" } },
          "offset": { "type": "integer" },
          "limit": { "type": "integer" },
          "orderby": { "type": "string" },
          "lazy": { "type": "boolean" },
          "context": { "type": "object" }
        },
        "required": ["instance", "model", "fields", "groupby"],
        "additionalProperties": false
      },
      "op": {
        "type": "read_group",
        "map": {
          "instance": "/instance",
          "model": "/model",
          "domain": "/domain",
          "fields": "/fields",
          "groupby": "/groupby",
          "offset": "/offset",
          "limit": "/limit",
          "orderby": "/orderby",
          "lazy": "/lazy",
          "context": "/context"
        }
      }
    },
    {
      "name": "odoo_name_search",
      "description": "Search records by name with autocomplete-style matching. Returns list of [id, name] pairs.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "model": { "type": "string" },
          "name": { "type": "string" },
          "args": { "type": "array", "items": {} },
          "operator": { "type": "string" },
          "limit": { "type": "integer" },
          "context": { "type": "object" }
        },
        "required": ["instance", "model"],
        "additionalProperties": false
      },
      "op": {
        "type": "name_search",
        "map": {
          "instance": "/instance",
          "model": "/model",
          "name": "/name",
          "args": "/args",
          "operator": "/operator",
          "limit": "/limit",
          "context": "/context"
        }
      }
    },
    {
      "name": "odoo_name_get",
      "description": "Get display names for records. Returns list of [id, display_name] pairs.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "model": { "type": "string" },
          "ids": { "type": "array", "items": { "type": "integer" } },
          "context": { "type": "object" }
        },
        "required": ["instance", "model", "ids"],
        "additionalProperties": false
      },
      "op": {
        "type": "name_get",
        "map": {
          "instance": "/instance",
          "model": "/model",
          "ids": "/ids",
          "context": "/context"
        }
      }
    },
    {
      "name": "odoo_default_get",
      "description": "Get default values for a new record. Useful when creating records programmatically.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "model": { "type": "string" },
          "fields": { "type": "array", "items": { "type": "string" } },
          "context": { "type": "object" }
        },
        "required": ["instance", "model"],
        "additionalProperties": false
      },
      "op": {
        "type": "default_get",
        "map": {
          "instance": "/instance",
          "model": "/model",
          "fields": "/fields",
          "context": "/context"
        }
      }
    },
    {
      "name": "odoo_copy",
      "description": "Duplicate a record. Returns the ID of the new copy.",
      "guards": { "requiresEnvTrue": "ODOO_ENABLE_WRITE_TOOLS" },
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "model": { "type": "string" },
          "id": { "type": "integer" },
          "default": { "type": "object" },
          "context": { "type": "object" }
        },
        "required": ["instance", "model", "id"],
        "additionalProperties": false
      },
      "op": {
        "type": "copy",
        "map": {
          "instance": "/instance",
          "model": "/model",
          "id": "/id",
          "default": "/default",
          "context": "/context"
        }
      }
    },
    {
      "name": "odoo_onchange",
      "description": "Simulate form onchange behavior. Returns computed values and domain changes.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "model": { "type": "string" },
          "ids": { "type": "array", "items": { "type": "integer" } },
          "values": { "type": "object" },
          "fieldName": { "type": "array", "items": { "type": "string" } },
          "fieldOnchange": { "type": "object" },
          "context": { "type": "object" }
        },
        "required": ["instance", "model", "ids", "values"],
        "additionalProperties": false
      },
      "op": {
        "type": "onchange",
        "map": {
          "instance": "/instance",
          "model": "/model",
          "ids": "/ids",
          "values": "/values",
          "fieldName": "/fieldName",
          "fieldOnchange": "/fieldOnchange",
          "context": "/context"
        }
      }
    },
    {
      "name": "odoo_list_models",
      "description": "List available Odoo models that the current user can access. Useful for model discovery.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "domain": { "type": "array", "items": {}, "description": "Domain filter (default: exclude transient models)" },
          "limit": { "type": "integer" },
          "offset": { "type": "integer" },
          "context": { "type": "object" }
        },
        "required": ["instance"],
        "additionalProperties": false
      },
      "op": {
        "type": "list_models",
        "map": {
          "instance": "/instance",
          "domain": "/domain",
          "limit": "/limit",
          "offset": "/offset",
          "context": "/context"
        }
      }
    },
    {
      "name": "odoo_check_access",
      "description": "Check if the current user has read/write/unlink rights on a model or specific records.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "model": { "type": "string" },
          "operation": { "type": "string", "enum": ["read", "write", "unlink"] },
          "ids": { "type": "array", "items": { "type": "integer" }, "description": "Optional: check access rules for specific records" },
          "context": { "type": "object" }
        },
        "required": ["instance", "model", "operation"],
        "additionalProperties": false
      },
      "op": {
        "type": "check_access",
        "map": {
          "instance": "/instance",
          "model": "/model",
          "operation": "/operation",
          "ids": "/ids",
          "context": "/context"
        }
      }
    },
    {
      "name": "odoo_create_batch",
      "description": "Create multiple records in a single operation. More efficient than calling odoo_create multiple times.",
      "guards": { "requiresEnvTrue": "ODOO_ENABLE_WRITE_TOOLS" },
      "inputSchema": {
        "type": "object",
        "properties": {
          "instance": { "type": "string" },
          "model": { "type": "string" },
          "values": { "type": "array", "items": { "type": "object" }, "description": "Array of value objects to create (max 100)" },
          "context": { "type": "object" }
        },
        "required": ["instance", "model", "values"],
        "additionalProperties": false
      },
      "op": {
        "type": "create_batch",
        "map": {
          "instance": "/instance",
          "model": "/model",
          "values": "/values",
          "context": "/context"
        }
      }
    }
  ]
}
